package gui;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.JTextField;
import workers.LoginUserDoctorWorker;
import modules.ApplicationManager;
import modules.GuiManager;

public class LoginFrame extends GuiFrame {
	
	private JButton exitButton;
	private JTextField idField;
	private JButton loginUserDoctorButton;
	private JPasswordField passwordField;

	protected JPanel getMainPanel() {
		// TODO
		
		exitButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				onExit();
			}
		});
		
		loginUserDoctorButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				onLoginUserDoctor();
			}
		});
		
		// TODO
		return null;
	}

	protected String getTitle() {
		// TODO
		return null;
	}

	protected void onClose() {
		GuiManager.onLoginFrameClosed();
	}
	
	private void onExit() {
		dispose();
		// Exits the application normally
		ApplicationManager.exitNormally();
	}
	
	private void onLoginUserDoctor() {
		// Gets user ID and password
		String id = idField.getText();
		char[] password = passwordField.getPassword();
		
		// Performs the task in a worker thread
		LoginUserDoctorWorker worker = new LoginUserDoctorWorker(id, password);
		worker.execute();
	}
	
}
