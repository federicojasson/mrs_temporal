package entitiesManagers;

import java.util.List;

import database.DatabaseConnector;
import exceptions.ConnectionException;
import exceptions.UserPasswordException;

public class UsersManager {
	
	private static UsersManager instance = null;
	
	private DatabaseConnector connection = null;
	
	public boolean login(String username, String password){
		try {
			connection = new DatabaseConnector(username, password);
		} catch (UserPasswordException e) {
			e.printStackTrace();
		} catch (ConnectionException e){
			e.printStackTrace();
		}
		
		return this.connection != null;
	}
	
	public ClinicalRecordsManager getClinicalRecordsManager(){
		return new ClinicalRecordsManager();
	}
	
	public PatientManager getPatientManager(){
		return this.connection;
	}
	
	public StudyManager getStudyManager(){
		return this.connection;
	}
	
	public List<String> getStudyTypes(){
		if(this.connection != null)
			return this.connection.getStudyTypes();
		return null;
	}
	
	public static UsersManager getInstance(){
		if(instance == null){
			instance = new UsersManager();
		}
		
		return instance;
	}
}
