package entitiesManagers;

import java.util.List;

import database.DatabaseConnector;
import exceptions.ConnectionException;
import exceptions.NoConnectedException;
import exceptions.UserPasswordException;

public class UsersManager {
	
	public static void login(String username, String password) throws UserPasswordException, ConnectionException{
		DatabaseConnector.connect(username, password);
	}
	
	public static PatientManager getPatientManager(){
		return DatabaseConnector.getInstance();
	}
	
	public static StudyManager getStudyManager(){
		return DatabaseConnector.getInstance();
	}
	
	public static List<String> getStudyTypes() throws NoConnectedException{
		if(DatabaseConnector.getInstance() != null)
			return DatabaseConnector.getInstance().getStudyTypes();
		else{
			throw new NoConnectedException("You are not connected to database.");
		}
	}
	
	public static boolean isConnected(){
		return DatabaseConnector.getInstance() == null;
	}
}
