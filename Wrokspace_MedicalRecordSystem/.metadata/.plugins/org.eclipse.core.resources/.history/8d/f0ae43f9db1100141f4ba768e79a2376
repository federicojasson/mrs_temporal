package utility;

import java.util.UUID;

public class Utility {

	// TODO
	/*
	 * public static String dateToString(Date date) { Calendar calendar =
	 * Calendar.getInstance(); calendar.setTime(date); int year =
	 * calendar.get(Calendar.YEAR); int month = calendar.get(Calendar.MONTH) + 1;
	 * int day = calendar.get(Calendar.DAY_OF_MONTH); String yearString = new
	 * DecimalFormat("0000").format(year); String monthString = new
	 * DecimalFormat("00").format(month); String dayString = new
	 * DecimalFormat("00").format(day); return yearString + "-" + monthString +
	 * "-" + dayString; }
	 */

	/*public static UUID generateUUID() {
		// TODO: maybe use a dedicated library (true randomness is important)
		return UUID.randomUUID();
	}

	public static String UUIDToString(UUID uuid) {
		long mostSignificantBits = uuid.getMostSignificantBits();
		long leastSignificantBits = uuid.getLeastSignificantBits();

		return Long.toHexString(mostSignificantBits) + Long.toHexString(leastSignificantBits);
	}*/
	
	private static final char[] HEXADECIMAL_VALUES = "0123456789ABCDEF".toCharArray();
	
	public static String bytesToHexadecimalString(byte[] bytes) {
		int byteCount = bytes.length;
		char[] chars = new char[2 * byteCount];
		
		for (int i = 0; i < byteCount; i++) {
		    int byteValue = bytes[i] & 0xFF;
		    chars[2 * i] = HEXADECIMAL_VALUES[byteValue >>> 4]; // Most significant bits
		    chars[2 * i + 1] = HEXADECIMAL_VALUES[byteValue & 0x0F]; // Least significant bits
		}
		
		return new String(chars);
	}
	
	public static String generateRandomUUID() {
		// TODO
		// Computes a random UUID
		UUID randomUUID = UUID.randomUUID();
		
		// Converts the UUID to 
		long higherBits = randomUUID.getMostSignificantBits();
		long lowerBits = randomUUID.getLeastSignificantBits();
		return Long.toHexString(higherBits) + Long.toHexString(lowerBits);
	}

}
